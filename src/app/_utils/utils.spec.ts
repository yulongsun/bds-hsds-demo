
import 'mocha';
import * as should from 'should'
import { Utils } from './utils'




describe('utils', function () {
    let raw_data = `var observe24h_data = {"od":{"od0":"20190513010000","od1":"宜兴","od2":[{"od21":"01","od22":"21","od23":"121","od24":"东南风","od25":"2","od26":"0.0","od27":"76","od28":""},{"od21":"00","od22":"21","od23":"141","od24":"东南���","od25":"1","od26":"0.0","od27":"78","od28":"43"},{"od21":"23","od22":"22","od23":"129","od24":"东南风","od25":"2","od26":"0.0","od27":"68","od28":"46"},{"od21":"22","od22":"23","od23":"140","od24":"东南风","od25":"2","od26":"0.0","od27":"66","od28":"48"},{"od21":"21","od22":"23","od23":"127","od24":"东南风","od25":"2","od26":"0.0","od27":"63","od28":"48"},{"od21":"20","od22":"24","od23":"129","od24":"东南风","od25":"2","od26":"0.0","od27":"62","od28":"44"},{"od21":"19","od22":"25","od23":"131","od24":"东南风","od25":"2","od26":"0.0","od27":"55","od28":"44"},{"od21":"18","od22":"26","od23":"115","od24":"东南风","od25":"2","od26":"0.0","od27":"47","od28":"42"},{"od21":"17","od22":"26","od23":"124","od24":"东南风","od25":"2","od26":"0.0","od27":"53","od28":""},{"od21":"16","od22":"27","od23":"131","od24":"东南风","od25":"2","od26":"0.0","od27":"53","od28":"60"},{"od21":"15","od22":"28","od23":"133","od24":"东南风","od25":"2","od26":"0.0","od27":"53","od28":"72"},{"od21":"14","od22":"28","od23":"132","od24":"东南风","od25":"2","od26":"0.0","od27":"52","od28":"79"},{"od21":"13","od22":"28","od23":"109","od24":"东风","od25":"2","od26":"0.0","od27":"53","od28":"89"},{"od21":"12","od22":"26","od23":"118","od24":"东南风","od25":"2","od26":"0.0","od27":"59","od28":"99"},{"od21":"11","od22":"26","od23":"119","od24":"东南风","od25":"2","od26":"0.0","od27":"62","od28":""},{"od21":"10","od22":"24","od23":"129","od24":"东南风","od25":"2","od26":"0.0","od27":"65","od28":"84"},{"od21":"09","od22":"23","od23":"115","od24":"东南风","od25":"2","od26":"0.0","od27":"72","od28":""},{"od21":"08","od22":"22","od23":"138","od24":"东南风","od25":"2","od26":"0.0","od27":"75","od28":"77"},{"od21":"07","od22":"21","od23":"138","od24":"东南风","od25":"2","od26":"0.0","od27":"78","od28":"74"},{"od21":"06","od22":"","od23":"","od24":"","od25":"","od26":"","od27":"","od28":""},{"od21":"05","od22":"20","od23":"150","od24":"东南风","od25":"2","od26":"0.0","od27":"80","od28":"73"},{"od21":"04","od22":"20","od23":"125","od24":"东南风","od25":"2","od26":"0.0","od27":"79","od28":"69"},{"od21":"03","od22":"20","od23":"124","od24":"东南风","od25":"2","od26":"0.0","od27":"76","od28":"69"},{"od21":"02","od22":"21","od23":"141","od24":"东南风","od25":"1","od26":"0.0","od27":"75","od28":"69"},{"od21":"01","od22":"","od23":"","od24":"","od25":"","od26":"","od27":"","od28":""},]}};
    `
    let raw_data2 =`{"od":{"od0":"20190510220000","od1":"南京","od2":[{"od21":"22","od22":"20","od23":"100","od24":"东风","od25":"0","od26":"0.0","od27":"62","od28":""}]}}`;
    
    let    aaaa   =`var observe24h_data = {"od":{"od0":"20190414140000","od1":"镇江","od2":[{"od21":"14","od22":"20","od23":"69","od24":"东风","od25":"2","od26":"0.0","od27":"43","od28":""},{"od21":"13","od22":"19","od23":"5","od24":"北风","od25":"2","od26":"0.0","od27":"47","od28":"58"},{"od21":"12","od22":"18","od23":"55","od24":"东北风","od25":"1","od26":"0.0","od27":"52","od28":""},{"od21":"11","od22":"17","od23":"13","od24":"北风","od25":"2","od26":"0.0","od27":"58","od28":"82"},{"od21":"10","od22":"17","od23":"27","od24":"东北风","od25":"3","od26":"0.0","od27":"63","od28":"112"},{"od21":"09","od22":"17","od23":"21","od24":"北风","od25":"2","od26":"0.0","od27":"71","od28":"102"},{"od21":"08","od22":"17","od23":"304","od24":"西北风","od25":"2","od26":"0.0","od27":"71","od28":"99"},{"od21":"07","od22":"13","od23":"null","od24":"暂无风向","od25":"0","od26":"0.0","od27":"94","od28":"97"},{"od21":"06","od22":"13","od23":"206","od24":"西南风","od25":"0","od26":"0.0","od27":"93","od28":"94"},{"od21":"05","od22":"13","od23":"210","od24":"西南风","od25":"1","od26":"0.0","od27":"90","od28":"94"},{"od21":"04","od22":"13","od23":"135","od24":"东南风","od25":"0","od26":"0.0","od27":"87","od28":"97"},{"od21":"03","od22":"14","od23":"208","od24":"西南风","od25":"1","od26":"0.0","od27":"86","od28":"100"},{"od21":"02","od22":"14","od23":"197","od24":"南风","od25":"1","od26":"0.0","od27":"82","od28":"102"},{"od21":"01","od22":"15","od23":"193","od24":"南风","od25":"2","od26":"0.0","od27":"75","od28":"92"},{"od21":"00","od22":"14","od23":"218","od24":"西南风","od25":"1","od26":"0.0","od27":"80","od28":"78"},{"od21":"23","od22":"15","od23":"199","od24":"南风","od25":"1","od26":"0.0","od27":"76","od28":"73"},{"od21":"22","od22":"16","od23":"83","od24":"东风","od25":"0","od26":"0.0","od27":"69","od28":"71"},{"od21":"21","od22":"16","od23":"234","od24":"西南风","od25":"1","od26":"0.0","od27":"68","od28":"72"},{"od21":"20","od22":"18","od23":"179","od24":"南风","od25":"1","od26":"0.0","od27":"59","od28":"73"},{"od21":"19","od22":"18","od23":"112","od24":"东风","od25":"1","od26":"0.0","od27":"54","od28":"85"},{"od21":"18","od22":"20","od23":"136","od24":"东南风","od25":"2","od26":"0.0","od27":"46","od28":"94"},{"od21":"17","od22":"21","od23":"161","od24":"南风","od25":"2","od26":"0.0","od27":"45","od28":"0"},{"od21":"16","od22":"21","od23":"112","od24":"东风","od25":"2","od26":"0.0","od27":"43","od28":""},{"od21":"15","od22":"22","od23":"106","od24":"东风","od25":"2","od26":"0.0","od27":"42","od28":"83"},{"od21":"14","od22":"null","od23":"null","od24":"暂无风向","od25":"null","od26":"null","od27":"null","od28":"70"}]}};`;

    
    it('extractObject', function () {
        let obj = Utils.extractObject(raw_data);
        should(obj).key('od');
        //should(obj).key('od1');

    });

    
    it('parseDate', function () {
        should(Utils.parseDate("2019-04-26 11:00:00").getFullYear()).be.eqls(2019);
        should(Utils.parseDate("2019-04-26 11:00:00").getMonth()).be.eqls(3);
    });
});
